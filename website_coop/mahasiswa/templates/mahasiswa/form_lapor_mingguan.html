{% extends "base.html" %} 
{% load static %} 

{% block content %}
<div class="form-container">
  {% if messages %}
  <div class="messages">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">{{ message }}</div>
    {% endfor %}
  </div>
  {% endif %}

  <form method="post" id="lapor-form" class="registration-form">
    {% csrf_token %}
    <div class="form-header">
      <h2>Laporan Pencarian Magang Mingguan</h2>
      <p>Lengkapi laporan mingguan Anda pada 3 bagian di bawah ini.</p>
    </div>

    <div class="form-row main-columns">
      <div class="form-column">
        <h3>1. Data Laporan</h3>
        <div class="form-group">
          <label for="{{ form.minggu_ke.id_for_label }}">
            {{ form.minggu_ke.label }}
            <span class="text-danger">*</span>
          </label>
          {{ form.minggu_ke }}
          <div class="text-danger small">{{ form.minggu_ke.errors }}</div>
        </div>
        <div class="form-group">
          <label>Mahasiswa</label>
          <input
            type="text"
            class="form-control"
            value="{{ user.get_full_name }}"
            disabled
          />
        </div>
        <div class="form-group">
          <label>Tanggal Lapor</label>
          <input
            type="text"
            class="form-control"
            value="{% now 'j F Y' %}"
            disabled
          />
        </div>
      </div>

      <div class="form-column">
        <h3>2. Progres Mingguan</h3>
        <div class="form-group">
          <label for="{{ form.perusahaan_dihubungi.id_for_label }}">
            {{ form.perusahaan_dihubungi.label }}
            <span class="text-danger">*</span>
          </label>
          {{ form.perusahaan_dihubungi }}
          <div class="text-danger small">{{ form.perusahaan_dihubungi.errors }}</div>
          <div class="form-text text-muted">
            {{ form.perusahaan_dihubungi.help_text }}
          </div>
        </div>
      </div>

      <div class="form-column">
        <h3>3. Kendala & Rencana</h3>
        <div class="form-group">
          <label for="{{ form.kendala.id_for_label }}">
            {{ form.kendala.label }} (Opsional)
          </label>
          {{ form.kendala }}
              </div>
              <div class="mb-3">
                <label
                  for="{{ form.rencana_minggu_depan.id_for_label }}"
                  class="form-label"
                >
                  {{ form.rencana_minggu_depan.label }}
                  <span class="text-danger">*</span>
                </label>
                {{ form.rencana_minggu_depan }}
              </div>
            </div>
          </div>

          <div class="text-center mt-4">
            <button type="submit" class="btn px-4" style="background-color: #00376A; color: #fff;">Kirim Laporan</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock content %}